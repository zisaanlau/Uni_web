webpackJsonp([1],{"0wMN":function(e,t,a){"use strict";var i=a("8YIr"),s=a.n(i);t.a={data:function(){return{fetchMethodKey:"search",inquire:{pageNum:1,pageSize:10},pageSizes:s()([10,20,30,50]),pageLayout:"total, prev, pager, next, sizes, jumper"}},methods:{indexMethod:function(e){return(this.inquire.pageNum-1)*this.inquire.pageSize+(e+1)},pageSizeChange:function(e){this.inquire.pageSize=e,this.inquire.pageNum=1,this[this.fetchMethodKey]()},pageCurrentChange:function(e){this.inquire.pageNum=e,this[this.fetchMethodKey]()}}}},"8YIr":function(e,t,a){e.exports={default:a("MKNx"),__esModule:!0}},Bp0I:function(e,t,a){var i=a("EqjI"),s=a("06OY").onFreeze;a("uqUo")("seal",function(e){return function(t){return e&&i(t)?e(s(t)):t}})},MKNx:function(e,t,a){a("Bp0I"),e.exports=a("FeBl").Object.seal},aZ5R:function(e,t){},o731:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Xxa5"),s=a.n(i),r=a("exGp"),n=a.n(r),l=a("gyMJ");function o(e){return Object(l.a)({url:"/sysApi/getUser",method:"post",data:e})}var d={name:"UserControl",mixins:[a("0wMN").a],data:function(){return{imgUrl:Object({NODE_ENV:"production",VUE_APP_API_BASE_URL:"",VUE_APP_API_VOICE_URL:"https://v1.reecho.cn/api/",VUE_APP_API_CHAT_URL:"https://api.lingyiwanwu.com/"}).VUE_APP_BASE_API+"/index/ucenter/upload_img",site_code:"",username:"",multipleSelection:[],time_type:"1",is_enable:1,start_time:"",end_time:"",tabletotal:0,options:[{value:1,label:"是"},{value:0,label:"否"}],tableData:[],dialogFormAdd:!1,dialogFormEdit:!1,form:{site_code:"",site_name:"",item:[],start_time:"",end_time:"",is_enable:"1",remark:""},formType:"",rules:{site_name:[{required:!0,message:"请输入网点名称",trigger:"blur"}],site_code:[{required:!0,message:"请输入网点编码",trigger:"blur"}],is_enable:[{required:!0,message:"请选择启用状态",trigger:"change"}],item:[{required:!0,message:"服务项目必选",trigger:"change"}],start_time:[{required:!0,message:"请选择开始履行合同时间",trigger:"change"}],end_time:[{required:!0,message:"请选择结束履行合同时间",trigger:"change"}],remark:[{required:!1,message:"",trigger:"blur"}]},rolelist:[],formLabelWidth:"140px",exportUrl:"",fileList:[],centerDialogVisible:!1,imgShowUrl:[],secoptions:[],secLoading:!1,editData:{},addData:{userid:"",username:"",password:"",audio_clone_times:"",credit:""},loadinghandleSearch:!1,loadingsubmit:!1}},created:function(){this.search()},methods:{submitEditUser:function(){var e=this;if(!this.editData.username||""===this.editData.audio_clone_times||this.editData.audio_clone_times<0||""===this.editData.credit||this.editData.credit<0)this.$message.error("请填写完整信息");else{var t,a=new FormData;a.append("userid",this.editData.userid),a.append("username",this.editData.username),a.append("audio_clone_times",this.editData.audio_clone_times),a.append("credit",this.editData.credit),(t=a,Object(l.a)({url:"/sysApi/set_userinfo",method:"post",data:t})).then(function(t){200===t.code?(e.$message.success("修改成功"),e.dialogFormEdit=!1,e.search()):e.$message.error(t.data.message)})}},submitAddUser:function(){var e=this;if(!this.addData.password||!this.addData.userid||!this.addData.username||""===this.addData.audio_clone_times||this.addData.audio_clone_times<0||""===this.addData.credit||this.addData.credit<0)this.$message.error("请填写完整信息");else{var t,a=new FormData;a.append("userid",this.addData.userid),a.append("username",this.addData.username),a.append("password",this.addData.password),a.append("audio_clone_times",this.addData.audio_clone_times),a.append("credit",this.addData.credit),(t=a,Object(l.a)({url:"/sysApi/addUser",method:"post",data:t})).then(function(t){200===t.code?(e.$message.success("新增成功"),e.dialogFormAdd=!1,e.search()):e.$message.error(t.data.message)})}},handleSearch:function(){this.inquire.pageNum=1,this.search()},search:function(){var e=this;return n()(s.a.mark(function t(){var a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadinghandleSearch=!0,(a=new FormData).append("pageSize",e.inquire.pageSize),a.append("page",e.inquire.pageNum),t.next=6,o(a);case 6:i=t.sent,e.loadinghandleSearch=!1,e.tableData=i.data.rows||[],e.tabletotal=i.data.total;case 10:case"end":return t.stop()}},t,e)}))()},reset:function(){this.site_code="",this.time_type="1",this.start_time="",this.end_time="",this.is_enable=1},close:function(){this.loadingsubmit=!1,this.dialogFormAdd=!1,this.$refs.form.resetFields()},operatTableEdit:function(){1===this.multipleSelection.length?(this.editData=this.multipleSelection[0],this.dialogFormEdit=!0):this.$message.error("请选择一条数据进行编辑!")},operatTableAdd:function(){this.dialogFormAdd=!0},deleteData:function(){var e=this;0!==this.multipleSelection.length?this.$confirm("此操作将永久删除选中的"+this.multipleSelection.length+"条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=e.multipleSelection.map(function(e){return e.id}),a=new FormData;a.append("ids",t),function(e){return Object(l.a)({url:"/sysApi/deleteUser",method:"post",data:e})}(a).then(function(t){200===t.code?(e.$message({type:"success",message:"删除成功!"}),e.search()):e.$message.error(t.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message.error("请选择要删除的数据!")},handleSelectionChange:function(e){this.multipleSelection=e}}},c=a("XyMi");var u=function(e){a("aZ5R")},m=Object(c.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-main"},[a("div",{staticClass:"search-body margin-t-sm"},[a("div",{staticClass:"fl margin-t-sm margin-r-sm"},[a("span",[e._v("用户名：")]),e._v(" "),a("el-input",{staticClass:"input-w",attrs:{clearable:"",placeholder:"请输入"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),a("div",{staticClass:"margin-t"},[a("el-button",{attrs:{type:"primary",loading:e.loadinghandleSearch},on:{click:e.handleSearch}},[e._v(" 查询 ")]),e._v(" "),a("el-button",{on:{click:e.reset}},[e._v(" 重置 ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.operatTableAdd}},[e._v(" 新增用户 ")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:1!==e.multipleSelection.length},on:{click:e.operatTableEdit}},[e._v(" 修改 ")]),e._v(" "),a("el-button",{attrs:{type:"danger",disabled:0===e.multipleSelection.length},on:{click:e.deleteData}},[e._v(" 删除 ")])],1)]),e._v(" "),a("div",{staticClass:"margin-t-lg"},[a("el-table",{ref:"Table",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"",height:"550"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"65",align:"center",label:"序号",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名称",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userid",label:"用户id",align:"center","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"audio_clone_times",align:"center",label:"声音克隆次数","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"credit",align:"center",label:"积分余额",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",align:"center",label:"创建时间",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"modify_user",align:"center",label:"修改人",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"modify_time",align:"center",label:"修改时间",width:"120"}})],1),e._v(" "),a("div",{staticClass:"text-right margin-t-sm"},[a("el-pagination",{attrs:{background:"","page-sizes":e.pageSizes,"current-page":e.inquire.pageNum,"page-size":e.inquire.pageSize,layout:e.pageLayout,total:e.tabletotal},on:{"size-change":e.pageSizeChange,"current-change":e.pageCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增用户",visible:e.dialogFormAdd,width:"30%"},on:{"update:visible":function(t){e.dialogFormAdd=t}}},[a("el-form",{attrs:{"label-width":"120px",model:e.addData}},[a("el-form-item",{attrs:{label:"用户ID"}},[a("el-input",{model:{value:e.addData.userid,callback:function(t){e.$set(e.addData,"userid",t)},expression:"addData.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{model:{value:e.addData.username,callback:function(t){e.$set(e.addData,"username",t)},expression:"addData.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户密码"}},[a("el-input",{model:{value:e.addData.password,callback:function(t){e.$set(e.addData,"password",t)},expression:"addData.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"声音克隆次数"}},[a("el-input",{attrs:{type:"number"},model:{value:e.addData.audio_clone_times,callback:function(t){e.$set(e.addData,"audio_clone_times",t)},expression:"addData.audio_clone_times"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"积分余额"}},[a("el-input",{attrs:{type:"number"},model:{value:e.addData.credit,callback:function(t){e.$set(e.addData,"credit",t)},expression:"addData.credit"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormAdd=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitAddUser}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"用户修改",visible:e.dialogFormEdit,width:"30%"},on:{"update:visible":function(t){e.dialogFormEdit=t}}},[a("el-form",{attrs:{"label-width":"120px",model:e.editData}},[a("el-form-item",{attrs:{label:"用户ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editData.userid,callback:function(t){e.$set(e.editData,"userid",t)},expression:"editData.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{model:{value:e.editData.username,callback:function(t){e.$set(e.editData,"username",t)},expression:"editData.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"声音克隆次数"}},[a("el-input",{attrs:{type:"number"},model:{value:e.editData.audio_clone_times,callback:function(t){e.$set(e.editData,"audio_clone_times",t)},expression:"editData.audio_clone_times"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"积分余额"}},[a("el-input",{attrs:{type:"number"},model:{value:e.editData.credit,callback:function(t){e.$set(e.editData,"credit",t)},expression:"editData.credit"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormEdit=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitEditUser}},[e._v("确 定")])],1)],1)],1)},[],!1,u,"data-v-eeb3e30e",null);t.default=m.exports},uqUo:function(e,t,a){var i=a("kM2E"),s=a("FeBl"),r=a("S82l");e.exports=function(e,t){var a=(s.Object||{})[e]||Object[e],n={};n[e]=t(a),i(i.S+i.F*r(function(){a(1)}),"Object",n)}}});
//# sourceMappingURL=1.ed9a68b06966d2e48636.js.map